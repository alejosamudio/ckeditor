(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))c(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&c(l)}).observe(document,{childList:!0,subtree:!0});function s(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function c(a){if(a.ep)return;a.ep=!0;const r=s(a);fetch(a.href,r)}})();const{DecoupledEditor:x,Autosave:z,Essentials:Q,Paragraph:j,CloudServices:Z,Autoformat:O,TextTransformation:q,LinkImage:$,Link:X,ImageBlock:ee,ImageToolbar:te,BlockQuote:ne,Bold:L,Bookmark:oe,CKBox:ie,ImageUpload:ae,ImageInsert:re,ImageInsertViaUrl:se,AutoImage:le,PictureEditing:ce,CKBoxImageEdit:de,CodeBlock:ue,TableColumnResize:ge,Table:me,TableToolbar:fe,Emoji:pe,Mention:A,PasteFromOffice:he,FindAndReplace:Ee,FontBackgroundColor:we,FontColor:Ce,FontFamily:Te,FontSize:Ie,Heading:be,HorizontalLine:Re,ImageCaption:Se,ImageResize:_e,ImageStyle:ke,Indent:ye,IndentBlock:De,Code:Ne,Italic:U,AutoLink:Oe,ListProperties:Le,List:B,MediaEmbed:Ae,RemoveFormat:Ue,SpecialCharactersArrows:Be,SpecialCharacters:ve,SpecialCharactersCurrency:Pe,SpecialCharactersEssentials:He,SpecialCharactersLatin:Ke,SpecialCharactersMathematical:Me,SpecialCharactersText:Ye,Strikethrough:Fe,Subscript:Ge,Superscript:Ve,TableCaption:We,TableCellProperties:Je,TableProperties:xe,Alignment:ze,TodoList:Qe,Underline:je,BalloonToolbar:Ze}=window.CKEDITOR,{AIChat:qe,AIEditorIntegration:$e,AIQuickActions:Xe,AIReviewMode:et,PasteFromOfficeEnhanced:tt,FormatPainter:nt,LineHeight:ot,RealTimeCollaborativeComments:it,RealTimeCollaborativeEditing:at,PresenceList:rt,Comments:st,RealTimeCollaborativeTrackChanges:lt,TrackChanges:ct,TrackChangesData:dt,TrackChangesPreview:ut,SlashCommand:gt}=window.CKEDITOR_PREMIUM_FEATURES,i=(()=>{const t="CKE_BUBBLE_BRIDGE_V1",o="1.0.0",s=typeof window.location?.search=="string"?window.location.search:"",c=new URLSearchParams(s);let a=!1;try{a=window.localStorage?.getItem("ckeBridgeDebug")==="true"}catch{a=!1}let r=c.get("debug")==="1"||c.get("debug")==="true"||a||window.CKEDITOR_BRIDGE_DEBUG===!0;const l="[CKEditorBridge]",d=window.parent!==window;let u=!d,m=d?"*":window.origin,f=null,E=0;const P=20,T=[],I=[],b=[],D=new Map;let C=null;const H={BRIDGE_ID:t,VERSION:o,get DEBUG(){return r},isEmbedded:d};function p(...e){r&&console.log(l,...e)}function K(e){r=!!e;try{window.localStorage?.setItem("ckeBridgeDebug",r?"true":"false")}catch{}r?console.log(l,"Debug mode enabled"):console.log(l,"Debug mode disabled")}function M(e,n={},g={}){return{bridge:t,version:o,type:e,payload:n,direction:g.direction||"editor->parent",timestamp:Date.now(),requestId:g.requestId??null,messageId:g.messageId||`${Date.now()}-${Math.random().toString(36).slice(2,10)}`}}function N(e){const n=m||"*";d?window.parent.postMessage(e,n):window.postMessage(e,n),p("Sent message",e,"→",n)}function R(){if(u)for(;T.length;)N(T.shift())}function w(e,n={},g={}){const h=M(e,n,g);u||e==="EDITOR_READY"?N(h):(p("Queueing message until parent is ready",h),T.push(h))}function Y(){if(!d){p("Not embedded in an iframe. Parent communication disabled."),u=!0,R();return}if(f)return;E=0;const e=()=>{E+=1,w("EDITOR_READY",{attempt:E,isEmbedded:d,userAgent:navigator.userAgent}),!r&&E===1&&console.info(`${l} EDITOR_READY #${E} → parent`,{attempt:E,isEmbedded:d,targetOrigin:m})};e(),f=window.setInterval(()=>{if(u){window.clearInterval(f),f=null;return}if(E>=P){window.clearInterval(f),f=null,p("No handshake acknowledgement received. Proceeding with wildcard origin."),u=!0,R();return}e()},500)}function S(e){e&&e!=="null"&&(m=e,p("Target origin updated to",m))}function F(e,n={}){if(u)m==="*"&&e&&e!=="null"&&S(e);else for(u=!0,n&&n.targetOrigin?m=n.targetOrigin:S(e),f&&(window.clearInterval(f),f=null),p("Handshake completed with parent."),R(),w("EDITOR_READY_ACK",{receivedAt:Date.now()});b.length;){const g=b.shift();try{g({origin:m})}catch(h){console.error(l,"Parent ready callback failed",h)}}}function G(e){C?e(C):I.push(e)}function V(e){for(C=e;I.length;){const n=I.shift();try{n(C)}catch(g){console.error(l,"Deferred editor action failed",g)}}}function W(e){typeof e=="function"&&(u?e({origin:m}):b.push(e))}function J(e,n){typeof n=="function"&&D.set(e,n)}return window.addEventListener("message",e=>{const n=e.data;if(!n||n.bridge!==t||d&&e.source!==window.parent||n.direction&&n.direction!=="parent->editor")return;p("Received message",n,"from",e.origin),!u||n.type==="PARENT_READY"?F(e.origin,n.payload||{}):m==="*"&&e.origin&&e.origin!=="null"&&S(e.origin);const g=D.get(n.type);if(g)try{g({payload:n.payload||{},requestId:n.requestId??null,event:e,send:w})}catch(h){console.error(l,`Error handling message ${n.type}`,h),w("HANDLER_ERROR",{type:n.type,message:h?.message||"Unknown handler error"})}else n.type!=="PARENT_READY"&&p("No handler registered for type",n.type)}),{send:w,startHandshake:Y,setEditor:V,withEditor:G,onParentReady:W,registerHandler:J,setDebug:K,constants:H}})();window.CKEDITOR_BUBBLE_BRIDGE=i;i.startHandshake();let _=!1;function y(t,{ackType:o,requestId:s,reason:c,focus:a}={}){i.withEditor(r=>{_=!0;let l=!1,d=null;try{r.setData(typeof t=="string"?t:""),a&&r.editing.view.focus(),l=!0}catch(u){d=u?.message||"Unknown error applying editor content.",console.error("[CKEditorBridge] Failed to apply content from parent",u),i.send("CONTENT_ERROR",{requestId:s,reason:c,message:d,timestamp:Date.now()})}window.setTimeout(()=>{_=!1,o&&i.send(o,{requestId:s,status:l?"ok":"error",reason:c,message:d,timestamp:Date.now()}),l&&i.send("CONTENT_SYNC",{requestId:s,html:r.getData(),reason:c,timestamp:Date.now()})},0)})}i.registerHandler("INIT",({payload:t,requestId:o})=>{y(t?.html??"",{ackType:"INIT_ACK",requestId:o,reason:"init",focus:t?.focus===!0})});i.registerHandler("SET_CONTENT",({payload:t,requestId:o})=>{y(t?.html??"",{ackType:"SET_CONTENT_ACK",requestId:o,reason:t?.reason||"set-content",focus:t?.focus===!0})});i.registerHandler("CLEAR_CONTENT",({requestId:t})=>{y("",{ackType:"CLEAR_CONTENT_ACK",requestId:t,reason:"clear-content"})});i.registerHandler("REQUEST_CONTENT",({requestId:t})=>{i.withEditor(o=>{i.send("CONTENT_SYNC",{requestId:t,html:o.getData(),reason:"requested-sync",timestamp:Date.now()})})});i.registerHandler("PING",({requestId:t,payload:o})=>{i.send("PONG",{requestId:t,echo:o?.echo??null,timestamp:Date.now()})});i.registerHandler("SET_DEBUG",({payload:t,requestId:o})=>{const s=typeof t?.enabled=="boolean"?t.enabled:!i.constants.DEBUG;i.setDebug(s),i.send("SET_DEBUG_ACK",{requestId:o,status:"ok",enabled:i.constants.DEBUG,timestamp:Date.now()})});const mt="eyJhbGciOiJFUzI1NiJ9.eyJleHAiOjE3NjQyMDE1OTksImp0aSI6ImNiMWJiNTk0LWIxODEtNGJmMi1iZTA5LTM2ZGM1MjY3MzIxZiIsInVzYWdlRW5kcG9pbnQiOiJodHRwczovL3Byb3h5LWV2ZW50LmNrZWRpdG9yLmNvbSIsImRpc3RyaWJ1dGlvbkNoYW5uZWwiOlsiY2xvdWQiLCJkcnVwYWwiLCJzaCJdLCJ3aGl0ZUxhYmVsIjp0cnVlLCJsaWNlbnNlVHlwZSI6InRyaWFsIiwiZmVhdHVyZXMiOlsiKiJdLCJ2YyI6ImFhNmQ1YmUwIn0.a4QCfokW3f4OX2Td4j7I5Nv6J9NsaWg4atvrEmD90ijhttvsbqFMfaoJ4a-X_V0ZJ0mxSN6mMf1jjWLJGlV0dQ",ft="<YOUR_DOCUMENT_ID>",pt="https://uplnolydjmzr.cke-cs.com/token/dev/9dcdd882883e3315126ce6f9865e9ec42fa58287442ece2a12be481798c5?limit=10",ht="wss://uplnolydjmzr.cke-cs.com/ws",v={toolbar:{items:["undo","redo","|","trackChanges","comment","commentsArchive","|","toggleAi","aiQuickActions","|","formatPainter","findAndReplace","|","heading","|","fontSize","fontFamily","fontColor","fontBackgroundColor","|","bold","italic","underline","strikethrough","subscript","superscript","code","removeFormat","|","emoji","specialCharacters","horizontalLine","link","bookmark","insertImage","insertImageViaUrl","ckbox","mediaEmbed","insertTable","blockQuote","codeBlock","|","alignment","lineHeight","|","bulletedList","numberedList","todoList","outdent","indent"],shouldNotGroupWhenFull:!1},plugins:[qe,$e,Xe,et,ze,O,le,Oe,z,Ze,ne,L,oe,ie,de,Z,Ne,ue,st,pe,Q,Ee,we,Ce,Te,Ie,nt,be,Re,ee,Se,re,se,_e,ke,te,ae,ye,De,U,ot,X,$,B,Le,Ae,A,j,he,tt,ce,rt,it,at,lt,Ue,gt,ve,Be,Pe,He,Ke,Me,Ye,Fe,Ge,Ve,me,We,Je,ge,xe,fe,q,Qe,ct,dt,ut,je],ai:{container:{type:"overlay",side:"right"},chat:{models:{},context:{document:{enabled:!0},urls:{enabled:!0},files:{enabled:!0}}}},balloonToolbar:["comment","|","aiQuickActions","|","bold","italic","|","link","insertImage","|","bulletedList","numberedList"],cloudServices:{tokenUrl:pt,webSocketUrl:ht},collaboration:{channelId:ft},comments:{editorConfig:{extraPlugins:[O,L,U,B,A],mention:{feeds:[{marker:"@",feed:[]}]}}},fontFamily:{supportAllValues:!0},fontSize:{options:[10,12,14,"default",18,20,22],supportAllValues:!0},heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h3",title:"Heading 3",class:"ck-heading_heading3"},{model:"heading4",view:"h4",title:"Heading 4",class:"ck-heading_heading4"},{model:"heading5",view:"h5",title:"Heading 5",class:"ck-heading_heading5"},{model:"heading6",view:"h6",title:"Heading 6",class:"ck-heading_heading6"}]},image:{toolbar:["toggleImageCaption","|","imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight","|","resizeImage","|","ckboxImageEdit"],styles:{options:["alignBlockLeft","block","alignBlockRight"]}},initialData:"<p>Start writing...</p>",licenseKey:mt,lineHeight:{supportAllValues:!0},link:{addTargetToExternalLinks:!0,defaultProtocol:"https://",decorators:{toggleDownloadable:{mode:"manual",label:"Downloadable",attributes:{download:"file"}}}},list:{properties:{styles:!0,startIndex:!0,reversed:!0}},mention:{feeds:[{marker:"@",feed:[]}]},placeholder:"Type or paste your content here!",presenceList:{container:document.querySelector("#editor-presence")},sidebar:{container:document.querySelector("#editor-annotations")},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells","tableProperties","tableCellProperties"]}};k(v);const Et=250;x.create(document.querySelector("#editor"),v).then(t=>{document.querySelector("#editor-toolbar").appendChild(t.ui.view.toolbar.element),document.querySelector("#editor-menu-bar").appendChild(t.ui.view.menuBarView.element),window.editor=t,i.setEditor(t);let o;return t.model.document.on("change:data",()=>{_||(window.clearTimeout(o),o=window.setTimeout(()=>{const s=t.getData();i.send("CONTENT_CHANGE",{html:s,reason:"user-input",timestamp:Date.now()})},Et))}),i.onParentReady(()=>{i.send("CONTENT_SYNC",{html:t.getData(),reason:"initial-sync",timestamp:Date.now()})}),i.startHandshake(),t}).catch(t=>{console.error(t),i.send("EDITOR_ERROR",{message:t?.message||"Failed to initialize CKEditor.",stack:t?.stack||null,timestamp:Date.now()})});function k(t){if(k.configUpdateAlertShown)return;const o=(c,a)=>c!==a&&c!==void 0,s=[];k.configUpdateAlertShown=!0,o(t.licenseKey,"<YOUR_LICENSE_KEY>")||s.push("LICENSE_KEY"),o(t.cloudServices?.tokenUrl,"<YOUR_CLOUD_SERVICES_TOKEN_URL>")||s.push("CLOUD_SERVICES_TOKEN_URL"),o(t.cloudServices?.webSocketUrl,"<YOUR_CLOUD_SERVICES_WEBSOCKET_URL>")||s.push("CLOUD_SERVICES_WEBSOCKET_URL"),s.length&&window.alert(["Please update the following values in your editor config","to receive full access to Premium Features:","",...s.map(c=>` - ${c}`)].join(`
`))}
